%% tic-tac-toe
% close all
% clear all
% 
% %initalize
%  dobotinit

if exist('arduinoObj') == 0	
    dobotinit	
end

home = [0;10;0];
pause(1)
setdobotangles(q2ang(home),arduinoObj)

dobot.q=[home(1);home(2);home(3);-home(2)-home(3)];
dobot=fwdkiniter(dobot);

homepos = dobot.T(1:3,4);
pause(1)
setdobotposition(dobot, homepos+[10;10;0], arduinoObj);
bc = [175;0;35];
setdobotposition(dobot, bc, arduinoObj);
% lineS = [00;-40;0];
% lineE = [00;40;0];
% lineP=[linspace(lineS(1),lineE(1),10);linspace(lineS(2),lineE(2),10);linspace(lineS(3),lineE(3),10)];
% 
% for i = 1:10
%     tic
%     setdobotposition(dobot, homepos+lineP(:,i), arduinoObj);
%     toc
%     pause(.1)
% end
% 
% drawCircle(dobot,arduinoObj,bc+[0;0;0], 15);
% drawX(dobot, arduinoObj, bc+[0;40;0], 15);

pause(1)
setdobotposition(dobot, bc, arduinoObj);
cvo = [-3,-3,2,2];
[cellCenters, cornerLoc] = drawBoard(dobot, arduinoObj, bc+[0;0;0], cvo, 3*25.4);
setdobotposition(dobot, bc+[0;0;20], arduinoObj);

drawX(dobot, arduinoObj, cellCenters(:,1), 7);
setdobotposition(dobot, homepos, arduinoObj);

setdobotposition(dobot, cornerLoc(:,1)+[0;0;0], arduinoObj);
setdobotposition(dobot, cornerLoc(:,2)+[0;0;0], arduinoObj);
setdobotposition(dobot, cornerLoc(:,3)+[0;0;0], arduinoObj);
setdobotposition(dobot, cornerLoc(:,4)+[0;0;0], arduinoObj);

